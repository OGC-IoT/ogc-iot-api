<!DOCTYPE html>
<html>
<head>
	<title>OGC SensorThings API</title>
	<link rel="shortcut icon" href="img/favicon.ico">	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Bootstrap -->
	<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href="css/bootswatch.css" rel="stylesheet">
	<link href="css/bootstrap-responsive.css" rel="stylesheet">

</head>
<body class="preview" id="top" data-spy="scroll" data-target=".subnav" data-offset="80">
	<!-- Navbar -->
	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a class="brand" href="index.html">OGC SensorThings API</a>
				<div class="nav-collapse collapse" id="main-menu">
					<ul class="nav pull-right" id="main-menu-right">
						<li><a href="index.html">Home</a></li>
						<li><a id="swatch-link" href="background.html">FAQ</a></li>
						<li><a id="swatch-link" href="quickstart.html">Quickstart</a></li>
						<li><a id="swatch-link" href="datamodel.html">Data Model</a></li>
						<li><a id="swatch-link" href="api.html">API Reference</a></li>
						<!--<li><a id="swatch-link" href="libraries.html">Libraries</a></li>-->
						<li><a id="swatch-link" href="ecosystem.html">Ecosystem</a></li>
						<li class="dropdown" id="preview-menu">
							<a class="dropdown-toggle" data-toggle="dropdown" href="#">Community<b class="caret"></b></a>
							<ul class="dropdown-menu">
								<li><a target="_blank" href="https://lists.opengeospatial.org/mailman/listinfo/swe-iot.swg">OGC Maillist</a></li>
                                                                <li><a target="_blank" href="https://github.com/OGC-IoT/ogc-iot-api">GitHub</a></li>
								<!--<li><a id="swatch-link" href="#">Forum</a></li>-->
								<li><a href="mailto:geosensorweblab@gmail.com">Email Us</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		<h1>Data Model</h1>
		<hr>
		<div class="subnav">
			<ul class="nav nav-pills">
				<li><a href="#Introduction">Introduction</a></li>
				<li class="dropdown" id="preview-menu">
					<a class="dropdown-toggle" data-toggle="dropdown" href="#">Sensing Profile<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="#DatastreamProfile">Introduction</a></li>
						<li><a href="#Thing">Thing</a></li>
						<li><a href="#Location">Location</a></li>
						<li><a href="#Datastream">Datastream</a></li>
						<li><a href="#ObservedProperty">ObservedProperty</a></li>
						<li><a href="#Observation">Observation</a></li>
						<li><a href="#Sensor">Sensor</a></li>
						<li><a href="#FeatureOfInterest">FeatureOfInterest</a></li>
					</ul>
				</li>
				<li class="dropdown" id="preview-menu">
					<a class="dropdown-toggle" data-toggle="dropdown" href="#">Tasking Profile<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="#TaskingCapabilityProfile">Introduction</a></li>
						<li><a href="#TaskingCapability">Tasking Capability</a></li>
						<li><a href="#Actuator">Actuator</a></li>
						<li><a href="#Task">Task</a></li>
					</ul>
				</li>
				<li class="dropdown" id="preview-menu">
					<a class="dropdown-toggle" data-toggle="dropdown" href="#">$capabilities<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="#capabilities">Introduction</a></li>
						<li><a style="margin-left: 10px;" href="#FunctionsMetadata">FunctionsMetadata</a></li>
						<li><a style="margin-left: 10px;" href="#CustomOperations">CustomOperations</a></li>
					</ul>
				</li>
			</ul>
		</div>
		<hr>

		<div class="row">
			<section id="Introduction">
				<h2>1. Introduction</h2>
				<p class="lead">Since the OGC SensorThings API is based on REST principles, it's very easy to write and test applications. You can use your browser to access URLs, and you can use pretty much any HTTP client in any programming language to interact with the API.</p>

				<p class="lead">In order to provide a unified access to IoT devices' data and tasking capabilities, the OGC SensorThings APi defines an IoT data model. The core of the IoT data model is a Thing [1]. Every Thing can have zero to many locations in space and time. Each Thing can have zero to many Datastreams, and Datastream forms the core of the Sensing Profile.</p>

					<p class="lead">The IoT data model consists of two parts: (1) <em>the <a href="#DatastreamProfile">Sensing Profile<a/></em> and (2) <em>the <a href="#TaskingProfile">Tasking Profile</a></em>. The <a href="#DatastreamProfile">Sensing Profile<a/> allows IoT devices and applications to CREATE, READ, UPDATE, and DELETE (<em>i.e.</em>, HTTP POST, GET, PUT, and DELETE) IoT data in a SensorThings service. The <a href="#TaskingProfile">Tasking Profile</a> allows applications to control IoT devices through a SensorThings service.</p>

					<h3>Sensing</h3>

					<p class="lead alert alert-info">In the <a href="#DatastreamProfile">Sensing Profile</a>, a <a href="#Thing">Thing</a> has a <a href="#Location">Location</a> in space and time. A <a href="#Thing">Thing</a> also can have multiple <a href="#Datastream">Datastreams</a>. A <a href="#Datastream">Datastreams</a> is a collection of Observations grouped by the same <a href="#ObservedProperty">Observed Property</a>. An <a href="#Observation">Observation</a> is an event performed by a Sensor that produces a result whose value is an estimate of an <a href="#ObservedProperty">Observed Property</a> of the <a href="#FeatureOfInterest">Feature of Interest</a>.</p>


					<h3>Tasking</h3>
					<p class="lead alert alert-info">In the <a href="#TaskingProfile">Tasking Profile</a>, a <a href="#Thing">Thing</a> can have multiple <a href="#TaskingCapabilities">Tasking Capabilities</a> as executable function, which is executed by an <a href="#Actuator">Actuator</a>. Users can create <a href="#Task">Task</a> entities in the service to execute task.</p>	

					<p class="lead">The following figure shows the OGC SensorThings data model. The properties of entity type and each entity's direct relation to the other entity types are described after the figure.</p>
					<p>
						<center><img src="img/IoTRESTfulAPIDataModel.png" alt="IoTRESTful API Data Model" align="middle"></center>
						<center><strong>Figure 1. </strong>The OGC SensorThings API Data Model</center>
					</p>
				</section>

				<section><p class="lead alert alert-info"><strong>Note:</strong> This is a living draft document, and that means it might change frequently.  And every change means we are even closer to the final draft!  If you find any mistakes, please let us know!!</p>
				</section>	

				<section id="DatastreamProfile">
					<h2>2. Sensing Profile</h2>
					<p class="lead">The sensing profile includes thing, location, datastream, sensor, observedProperty, observation, and feature of interest entity types. In this section, we explain the properties in each entity type and the direct relation to the other entity types. In addition, for each entity type, we show an example of its JSON encoding.</p>
					<p class="lead">Each entity has some common properties including a unique identifier, a self link showing the URL of the entity, one-to-many association links representing the relation with the other entities, and one-to-many navigation links that retrives content of related entities.</p>
					<br/>
					<p><strong>Common Properties: </strong></p>
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Name</th>
								<th>Definition</th>
								<th>Data type</th>
								<th>Multiplicity and use</th>
							</tr>
						</thead>
						<tr>
							<td>ID</td>
							<td>ID is the system-generated identifier of an entity. ID is unique among the entities of the same entity type.</td>
							<td>Any</td>
							<td>One (mandatory)</td>
						</tr>
						<tr>
							<td>Self-Link</td>
							<td>Self-Link is the absolute URL of an entity which is unique among all other entities.</td>
							<td>URL</td>
							<td>One (mandatory)</td>
						</tr>
						<tr>
							<td id="association-link">Association-Link</td>
							<td>Association-Link is the relative URL showing the related entities in other entity types. Only the Self-Links of related entities are returned when resolving Association-Links.</td>
							<td>URL</td>
							<td>One-to-many</td>
						</tr>
						<tr>
							<td>Navigation-Link</td>
							<td>Navigation-Link is the relative URL that retrives content of related entities.</td>
							<td>URL</td>
							<td>One-to-many</td>
						</tr>
					</table>
					<br/>

					<section id="Thing">
						<h3>2.1 Thing</h3>
						<p class="lead"><strong>Definition: </strong>We use the ITU-T definition, <em>i.e.</em>, with regard to the Internet of Things, a thing is an object of the physical world (physical things) or the information world (virtual things) which is capable of being identified and integrated into communication networks. (ITU-T Y.2060)</p>
						<br/>
						<p><strong>Properties: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Name</th>
									<th>Definition</th>
									<th>Data type</th>
									<th>Multiplicity and use</th>
								</tr>
							</thead>
							<tr>
								<td>Description</td>
								<td>This is the description of the thing entity. The content is open to accommodate changes to SensorML and to support other description languages.</td>
								<td>Character String</td>
								<td>One (mandatory)</td>
							</tr>
						</table>
						<br/>
						<p><strong>Direct relation with other entity types: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Entity type</th>
									<th>Relation</th>
									<th>Description</th>
								</tr>
							</thead>
							<tr>
								<td>Location</td>
								<td>Many mandatory to many optional</td>
								<td>A thing can locate at different geographical positions at different time points (multiple locations). Multiple things can locate at the same location at the same time. A thing may not have a location.</td>
							</tr>
							<tr>
								<td>Datastream</td>
								<td>One mandatory to many optional</td>
								<td>A thing can have zero-to-many datastreams. A datastream entity can only link to a thing as a collection of observations or properties.</td>
							</tr>
							<tr>
								<td>TaskingCapability</td>
								<td>One mandatory to many optional</td>
								<td>A thing can have zero-to-many taskingcapabilities. A taskingcapability entity can only link to a thing as a function of the thing.</td>
							</tr>
						</table>
						<br/>
						<p><strong>Example: </strong></p>
						<pre><code>{
							"Description":"thing_1",
							"Self-Link":"http://demo.student.geocens.ca:8080/SensorThings_V1.0/Things(1)",
							"Locations":
							{
								"Association-Link":"Things(1)/$links/Locations",
								"Navigation-Link":"Things(1)/Locations"
							},
							"ID":1,
							"Datastreams":
							{
								"Association-Link":"Things(1)/$links/Datastreams",
								"Navigation-Link":"Things(1)/Datastreams"
							},
							"TaskingCapabilities":
							{
								"Association-Link":"Things(1)/$links/TaskingCapabilities",
								"Navigation-Link":"Things(1)/TaskingCapabilities"
							}
						}</code></pre>
					</section>
					<section id="Location">
						<h3>2.2 Location</h3>
						<p class="lead"><strong>Definition: </strong>A location is an absolute geographical position at a specific time point.</p>
						<br/>
						<p><strong>Properties: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Name</th>
									<th>Definition</th>
									<th>Data type</th>
									<th>Multiplicity and use</th>
								</tr>
							</thead>
							<tr>
								<td>Time</td>
								<td>The time point/period of the location.</td>
								<td>ISO8601 time point/period string</td>
								<td>One (mandatory)</td>
							</tr>
							<tr>
								<td>Geometry</td>
								<td>The absolute geographical position of the location. This is generally the GeoJSON geometry object.</td>
								<td>GeoJSON geometry object</td>
								<td>One (mandatory)</td>
							</tr>
						</table>
						<br/>
						<p><strong>Direct relation with other entity types: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Entity type</th>
									<th>Relation</th>
									<th>Description</th>
								</tr>
							</thead>
							<tr>
								<td>Thing</td>
								<td>Many optional to many mandatory</td>
								<td>A thing can locate at different geographical positions at different time points (multiple locations). Multiple things can locate at the same location at the same time. A thing may not have a location.</td>
							</tr>
						</table>
						<br/>
						<p><strong>Example: </strong></p>
						<pre><code>{
							"Things":
							{
								"Association-Link": "Locations(1)/$links/Things",
								"Navigation-Link": "Locations(1)/Things"
							},
							"Time": "2012-11-17T06:33:19-0700",
							"Self-Link": "http://demo.student.geocens.ca:8080/SensorThings_V1.0/Locations(1)",
							"ID": 1,
							"Geometry":
							{
								"type": "POINT",
								"coordinates":
								[
									100,
									50
								]
							}
						}</code></pre>
					</section>
					<section id="Datastream">
						<h3>2.3 Datastream</h3>
						<p class="lead"><strong>Definition: </strong>A datastream groups a collection of observations that are
related in some way. The one constraint is that the observations in a datastream must measure the same observed property (i.e., one phenomenon).



						</p>
						<br/>
						<p><strong>Properties: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Name</th>
									<th>Definition</th>
									<th>Data type</th>
									<th>Multiplicity and use</th>
								</tr>
							</thead>
							<tr>
								<td>Description</td>
								<td>This is the description of the datastream entity. The content is open to support other description languages.</td>
								<td>Character String</td>
								<td>One (mandatory)</td>
							</tr>
						</table>
						<br/>
						<p><strong>Direct relation with other entity types: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Entity type</th>
									<th>Relation</th>
									<th>Description</th>
								</tr>
							</thead>
							<tr>
								<td>Thing</td>
								<td>Many optional to one mandatory</td>
								<td>A thing can have zero-to-many datastreams. A datastream entity can only link to a thing as a collection of observations or properties.</td>
							</tr>
							<tr>
								<td>ObservedProperty</td>
								<td>Many optional to one mandatory</td>
								<td>The observations of a datastream observe the same observedProperty. The observations of different datastreams could observe the same observedProperty.</td>
							</tr>
							<tr>
								<td>Observation</td>
								<td>One mandatory to many optional</td>
								<td>A datastream can have zero-to-many observations. One observation must occur in one and only one datastream.</td>
							</tr>
						</table>
						<br/>
						<p><strong>Example: </strong></p>
						<pre><code>{
							"Thing":
							{
								"Association-Link":"Datastreams(1)/$links/Thing",
								"Navigation-Link":"Datastreams(1)/Thing"
							},
							"Description":"datastream_1",
							"Self-Link":"http://demo.student.geocens.ca:8080/SensorThings_V1.0/Datastreams(1)",
							"ObservedProperty":
							{
								"Association-Link":"Datastreams(1)/$links/ObservedProperty",
								"Navigation-Link":"Datastreams(1)/ObservedProperty"
							},
							"ID":1,
							"Observations":
							{
								"Association-Link":"Datastreams(1)/$links/Observations",
								"Navigation-Link":"Datastreams(1)/Observations"
							}
						}</code></pre>
					</section>
					<section id="ObservedProperty">
						<h3>2.4 ObservedProperty</h3>
						<p class="lead"><strong>Definition: </strong>An observedProperty specifies the phenomenon of an observation.</p>
						<br/>
						<p><strong>Properties: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Name</th>
									<th>Definition</th>
									<th>Data type</th>
									<th>Multiplicity and use</th>
								</tr>
							</thead>
							<tr>
								<td>URI</td>
								<td>The URI of the observedProperty/phenomenon.</td>
								<td>URI</td>
								<td>One (mandatory)</td>
							</tr>
							<tr>
								<td>UnitOfMeasurement</td>
								<td>The unit of measurement for the observations measuring this observedProperty.</td>
								<td>Character String</td>
								<td>One (mandatory)</td>
							</tr>
						</table>
						<br/>
						<p><strong>Direct relation with other entity types: </strong></p>
						<table class="table table-striped">
							<thead>	
								<tr>
									<th>Entity type</th>
									<th>Relation</th>
									<th>Description</th>
								</tr>
							</thead>
							<tr>
								<td>Datastream</td>
								<td>One mandatory to many optional</td>
								<td>The observations of a datastream observe the same observedProperty. The observations of different datastreams could observe the same observedProperty.</td>
							</tr>
						</table>
						<br/>
						<p><strong>Example: </strong></p>
						<pre><code>{
							"UnitOfMeasurement":"Fahrenheit",
							"URI":"urn:ogc:def:property:noaa:ndbc:Water Temperature",
							"Self-Link":"http://demo.student.geocens.ca:8080/SensorThings_V1.0/ObservedProperties(1)",
							"ID":1,
							"Datastreams":
							{
								"Association-Link":"ObservedProperties(1)/$links/Datastreams",
								"Navigation-Link":"ObservedProperties(1)/Datastreams"
							}
						}</code></pre>
					</section>
					<section id="Observation">
						<h3>2.5 Observation</h3>
						<p class="lead"><strong>Definition: </strong>An act of observing a property or phenomenon on a feature of interest, with the goal of producing an estimate of the value of the property. A specialized event whose result is a data value. [OGC 07-022r1]</p>
						<br/>
						<p><strong>Properties: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Name</th>
									<th>Definition</th>
									<th>Data type</th>
									<th>Multiplicity and use</th>
								</tr>
							</thead>
							<tr>
								<td>Time</td>
								<td>The time point/period of when the observation happens.</td>
								<td>ISO8601 time point/period string</td>
								<td>One (mandatory)</td>
							</tr>
							<tr>
								<td>ResultType</td>
								<td>The data type of the ResultValue. Service should by default set the ResultType as "Measure" unless users specify a different ResultType when creating an observation.</td>
								<td>O&M Result Type</td>
								<td>One (mandatory)</td>
							</tr>
							<tr>
								<td>ResultValue</td>
								<td>The estimated value of an observedProperty from the observation.</td>
								<td>Any (depends on the ResultType)</td>
								<td>One (mandatory)</td>
							</tr>
						</table>
						<br/>
						<p><strong>Direct relation with other entity types: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Entity type</th>
									<th>Relation</th>
									<th>Description</th>
								</tr>
							</thead>
							<tr>
								<td>Datastream</td>
								<td>Many optional to one mandatory</td>
								<td>A datastream can have zero-to-many observations. One observation must occur in one and only one datastream.</td>
							</tr>
							<tr>
								<td>Sensor</td>
								<td>Many optional to one mandatory</td>
								<td>An observation is performed by one and only one sensor. One sensor could produce zero to many observations.</td>
							</tr>
							<tr>
								<td>FeatureOfInterest</td>
								<td>Many optional to one mandatory</td>
								<td>An observation observes on one and only one feature of interest. One feature of interest could be observed by one to many observations.</td>
							</tr>
						</table>
						<br/>
						<p><strong>Example: </strong></p>
						<pre><code>{
							"ResultValue":"64.95856250788312",
							"Time":"2012-03-02T13:29:01-0700",
							"Self-Link":"http://demo.student.geocens.ca:8080/SensorThings_V1.0/Observations(1)",
							"Sensor":
							{
								"Association-Link":"Observations(1)/$links/Sensor",
								"Navigation-Link":"Observations(1)/Sensor"
							},
							"FeatureOfInterest":
							{
								"Association-Link":"Observations(1)/$links/FeatureOfInterest",
								"Navigation-Link":"Observations(1)/FeatureOfInterest"
							},
							"Datastream":
							{
								"Association-Link":"Observations(1)/$links/Datastream",
								"Navigation-Link":"Observations(1)/Datastream"
							},
							"ID":1,
							"ResultType":"Measure"
						}</code></pre>
					</section>
					<section id="Sensor">
						<h3>2.6 Sensor</h3>
						<p class="lead"><strong>Definition: </strong>A sensor is an instrument that can observe a property or phenomenon with the goal of producing an estimate of the value of the property. In some cases, the sensor in this data model can also be seen as the procedure (method, algorithm, or instrument) defined in OGC 07-022r1.</p>
						<br/>
						<p><strong>Properties: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Name</th>
									<th>Definition</th>
									<th>Data type</th>
									<th>Multiplicity and use</th>
								</tr>
							</thead>
							<tr>
								<td>Metadata</td>
								<td>The detailed description of the sensor or system. The content is open to accommodate changes to SensorML or to support other description languages.</td>
								<td>Character String</td>
								<td>One (mandatory)</td>
							</tr>
						</table>
						<br/>
						<p><strong>Direct relation with other entity types: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Entity type</th>
									<th>Relation</th>
									<th>Description</th>
								</tr>
							</thead>
							<tr>
								<td>Observation</td>
								<td>One mandatory to many optional</td>
								<td>An observation is performed by one and only one sensor. One sensor could produce zero to many observations.</td>
							</tr>
						</table>
						<br/>
						<p><strong>Example: </strong></p>
						<pre><code>{
							"Self-Link":"http://demo.student.geocens.ca:8080/SensorThings_V1.0/Sensors(1)",
							"ID":1,
							"Observations":
							{
								"Association-Link":"Sensors(1)/$links/Observations",
								"Navigation-Link":"Sensors(1)/Observations"
							},
							"Metadata":"sensor_1"
						}</code></pre>
					</section>
					<section id="FeatureOfInterest">
						<h3>2.7 FeatureOfInterest</h3>
						<p class="lead"><strong>Definition: </strong>Features or feature collections that represent the identifiable object(s) on which the sensor systems are making observations. In the case of an in-situ sensor or observations being attributes of the thing, the feature of interest could be the thing itself. For remote sensors, this may be the geographical area or volume that is being sensed.</p>
						<br/>
						<p><strong>Properties: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Name</th>
									<th>Definition</th>
									<th>Data type</th>
									<th>Multiplicity and use</th>
								</tr>
							</thead>
							<tr>
								<td>Description</td>
								<td>This is the description of the feature of interest entity. The content is open to accommodate changes to SensorML and to support other description languages. In the case of the thing itself being the feature of interest, this description property is inherited from the thing entity.</td>
								<td>Character String</td>
								<td>One (mandatory)</td>
							</tr>
							<tr>
								<td>Geometry</td>
								<td>The absolute geographical position of the feature of interest. This is generally the GeoJSON geometry object. In the case of the thing itself being the feature of interest, this geometry property is inherited from the thing entity by interpolating the geometries in the location entities.</td>
								<td>GeoJSON geometry object</td>
								<td>One (mandatory)</td>
							</tr>
						</table>
						<br/>
						<p><strong>Direct relation with other entity types: </strong></p>
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Entity type</th>
									<th>Relation</th>
									<th>Description</th>
								</tr>
							</thead>
							<tr>
								<td>Observation</td>
								<td>One mandatory to many optional</td>
								<td>An observation observes on one and only one feature of interest. One feature of interest could be observed by zero-to-many observations.</td>
							</tr>
						</table>
						<br/>
						<p><strong>Example: </strong></p>
						<pre><code>{
							"Description":"FOI_1",
							"Self-Link":"http://demo.student.geocens.ca:8080/SensorThings_V1.0/FeaturesOfInterest(1)",
							"ID":1,
							"Observations":
							{
								"Association-Link":"FeaturesOfInterest(1)/$links/Observations",
								"Navigation-Link":"FeaturesOfInterest(1)/Observations"
							},
							"Geometry":
							{
								"coordinates":[
									100,50
								],
								"type":"Point"
							}
						}</code></pre>
						</section>
					</section>
					<section id="TaskingCapabilityProfile">
						<h2>3. Tasking Profile</h2>
						<p class="lead">The SensorThings taskingCapability profile is mainly for users to control actuators through a unified web service interface. There are two major parts in the taskingCapability profile. The first part is to convey the acceptable parameters of an actuator and allow users to submit controlling tasks through a RESTful interface. The second part of the taskingCapability profile is to allow SensorThings services to communicate with actuators that are attached to things.</p>
						<section><p class="lead alert alert-info"><strong>Note:</strong> The Protocol element presented here is still underdevelopment. The current draft for Protocol element is included for your interest.</p></section>
						<section id="TaskingCapability">
							<h3>3.1 TaskingCapability</h3>
							<p class="lead"><strong>Definition: </strong>A taskingCapability serves as an executable function of a thing. A taskingCapability could be enabled by an actuator.</p>
							<br/>
							<p><strong>Properties: </strong></p>
							<table class="table table-striped">
								<thead>
									<tr>
										<th>Name</th>
										<th>Definition</th>
										<th>Data type</th>
										<th>Multiplicity and use</th>
									</tr>
								</thead>
								<tr>
							                <td>Description</td>
                   							<td>This is the description of the taskingCapability entity. The content is open to support other description languages.</td>
                   							<td>Character String</td>
                   							<td>One (mandatory)</td>
                 						</tr>
								<tr>
									<td>Parameter</td>
									<td>A taskingCapability may have zero-to-many acceptable parameters. Users can understand the acceptable input of the taskingCapability. An acceptable parameter contains a ParameterID, Description, Use, and Definition (which has UnitOfMeasurement, InputType, and AllowedValues).</td>
									<td>Parameter</td>
									<td>Zero-to-many</td>
								</tr>
								<tr>
									<td>Protocol</td>
									<td>The protocol is not visible to users but needs to be registered into service when creating the taskingCapability. The protocol describes the communication protocol of sending tasks to the taskingCapability. The protocol generally is a HTTP Protocol, which contains a HTTP Method, AbsoluteResourcePath, QueryString, Fragment, MessageBody, and Headers (key-value pairs).</td>
									<td>HTTP Protocol</td>
									<td>One (mandatory)</td>
								</tr>
							</table>
							<center><img src="img/httpprotocol_class.png" alt="HTTP Protocol Class" align="middle"></center>
							<br/>
							<p><strong>Direct relation with other entity types: </strong></p>
							<table class="table table-striped">
								<thead>
									<tr>
										<th>Entity type</th>
										<th>Relation</th>
										<th>Description</th>
									</tr>
								</thead>
								<tr>
									<td>Thing</td>
									<td>Many optional to one mandatory</td>
									<td>A thing can have zero-to-many taskingCapabilities. A taskingCapability entity can only link to a thing as a function of that thing.</td>
								</tr>
								<tr>
									<td>Actuator</td>
									<td>One mandatory to one optional</td>
									<td>The tasks of a taskingCapability are performed by the same actuator. In some scenarios that actuators are hard to be identified (e.g., changing a status of a thing), this data model allows data providers to omit the actuators.</td>
								</tr>
								<tr>
									<td>Task</td>
									<td>One mandatory to many optional</td>
									<td>A taskingCapability can have zero-to-many tasks. A task must link to one and only one taskingCapability.</td>
								</tr>
							</table>
							<br/>
							<p><strong>Example: </strong></p>
							<pre><code>{
								"Description": "This is TaskingCapabilities(1).",
								"Thing":
								{
									"Association-Link": "TaskingCapabilities(1)/$links/Thing",
									"Navigation-Link": "TaskingCapabilities(1)/Thing"
								},
								"Parameters": [
								{
									"ParameterID": "parameter_1",
									"Description": "This is the description1.",
									"Use": "optional",
									"Definition":
									{
										"UnitOfMeasurement": "uom_2",
										"AllowedValues": [
										{
											"Value": 1.2
										},
										{
											"Value": 10.5
										},
										{
											"Max": 32.4,
											"Min": -145.7
										}],
										"InputType": "Double"
									}
								},
								{
									"ParameterID": "parameter_2",
									"Description": "This is the description2.",
									"Use": "mandatory",
									"Definition":
									{
										"UnitOfMeasurement": "uom_1",
										"AllowedValues": [
										{
											"Value": 1
										},
										{
											"Value": 10
										}],
										"InputType": "Integer"
									}
								}],
								"Actuator":
								{
									"Association-Link": "TaskingCapabilities(1)/$links/Actuators",
									"Navigation-Link": "TaskingCapabilities(1)/Actuators"
								},
								"Self-Link": "http://demo.student.geocens.ca:8080/SensorThings_V1.0/TaskingCapabilities(1)",
								"ID": 1,
								"Tasks":
								{
									"Association-Link": "TaskingCapabilities(1)/$links/Tasks",
									"Navigation-Link": "TaskingCapabilities(1)/Tasks"
								}
							}</code></pre>
						</section>
						<section id="Actuator">
							<h3>3.2 Actuator</h3>
							<p class="lead"><strong>Definition: </strong>An actuator is an instrument that can execute a task.</p>
							<br/>
							<p><strong>Properties: </strong></p>
							<table class="table table-striped">
								<thead>
									<tr>
										<th>Name</th>
										<th>Definition</th>
										<th>Data type</th>
										<th>Multiplicity and use</th>
									</tr>
								</thead>
								<tr>
									<td>Metadata</td>
									<td>The detailed description of the actuator. The content is open to accommodate changes to SensorML or to support other description languages.</td>
									<td>Character String</td>
									<td>One (mandatory)</td>
								</tr>
							</table>
							<br/>
							<p><strong>Direct relation with other entity types: </strong></p>
							<table class="table table-striped">
								<thead>
									<tr>
										<th>Entity type</th>
										<th>Relation</th>
										<th>Description</th>
									</tr>
								</thead>
								<tr>
									<td>TaskingCapability</td>
									<td>One optional to one</td>
									<td>The tasks of a taskingCapability are executed by the same actuator. In some scenarios that actuators are hard to be identified (e.g., changing a status of a thing), this data model allows data providers to omit the actuators.</td>
								</tr>
							</table>
							<br/>
							<p><strong>Example: </strong></p>
							<pre><code>{
								"Self-Link": "http://demo.student.geocens.ca:8080/SensorThings_V1.0/Actuators(1)",
								"TaskingCapability":
								{
									"Association-Link": "Actuators(1)/$links/TaskingCapability",
									"Navigation-Link": "Actuators(1)/TaskingCapability"
								},
								"ID": 1,
								"Metadata": "actuator_1"
							}</code></pre>
						</section>
						<section id="Task">
							<h3>3.3 Task</h3>
							<p class="lead"><strong>Definition: </strong>A task is a user-submitted request for executing a taskingCapability. A user can specify input values of a task based on the parameters description of a taskingCapability. A user can also specify the time that he/she wants the task to be sent to the thing.</p>
							<br/>
							<p><strong>Properties: </strong></p>
							<table class="table table-striped">
								<thead>
									<tr>
										<th>Name</th>
										<th>Definition</th>
										<th>Data type</th>
										<th>Multiplicity and use</th>
									</tr>
								</thead>
								<tr>
									<td>Time</td>
									<td>The time point of when the task to be sent to the thing.</td>
									<td>ISO8601 time point string</td>
									<td>One (mandatory)</td>
								</tr>
								<tr>
									<td>Input</td>
									<td>A task may contain zero-to-many inputs for the taskingCapability. An input has a ParameterID (which must match the ParameterID in a parameter of the taskingCapability) and an input value for that ParameterID. In one task, each input's ParameterID must be unique.</td>
									<td>Input</td>
									<td>Zero-to-many</td>
								</tr>
								<tr>
									<td>Status</td>
									<td>The status property of a task is a service-controlled property and cannot be updated by users. SensorThings service updates the status based on responses from the thing.</td>
									<td>Character String</td>
									<td>One (mandatory)</td>
								</tr>
							</table>
							<br/>
							<p><strong>Direct relation with other entity types: </strong></p>
							<table class="table table-striped">
								<thead>
									<tr>
										<th>Entity type</th>
										<th>Relation</th>
										<th>Description</th>
									</tr>
								</thead>
								<tr>
									<td>TaskingCapability</td>
									<td>Many optional to one mandatory</td>
									<td>A taskingCapability can have zero-to-many tasks. A task must link to one and only one taskingCapability.</td>
								</tr>
							</table>
							<center><img src="img/input_class.png" alt="Input Class" align="middle"></center>
							<br/>
							<p><strong>Example: </strong></p>
							<pre><code>{
								"Status": "done",
								"Time": "2012-12-27T20:28:07-0700",
								"Self-Link": "http://demo.student.geocens.ca:8080/SensorThings_V1.0/Tasks(1)",
								"TaskingCapability":
								{
									"Association-Link": "Tasks(1)/$links/TaskingCapability",
									"Navigation-Link": "Tasks(1)/TaskingCapability"
								},
								"ID": 1,
								"Inputs": [
								{
									"ParameterID": "parameterID_1",
									"Value": 1.2
								},
								{
									"ParameterID": "parameterID_2",
									"Value": 3
								}]
							}</code></pre>
						</section>
					</section>
					<section id="capabilities">
						<h2>4. $capabilities</h2>
						<p class="lead">Similar to some other OGC web service (OWS), the SensorThings API has a capabilities document describing the metadata of the service. The OGC SensorThings capabilities document is a JSON encoded document. The service should use the capabilities document to advertise the supported functions and any constraints on using these functions. The service may also include the capabilities document to showcase the spatio-temporal coverage of the content. Finally, if the service provides any custom operations, the explanation of those operations should be included in the capabilities document as well.</p>
						<p>
							<center><img src="img/CapabilitiesResponse.png" alt="Capabilities Response" align="middle"></center>
							<center><strong>Figure 2. </strong>Capabilities Response</center>
						</p>
						<p>Some portions of the capabilities document are already defined in the OWS Common specification, including the version, ServiceIdentification, and ServiceProvider. Also, the boundedBy and TimePeriod are from the OGC GML specification. The following subsections explain the elements that are specific for the SensorThings service; namely the FunctionsMetadata and the CustomOperations.</p>
						<section id="FunctionsMetadata">
							<h3>4.1 FunctionsMetadata</h3>
							<p>The FunctionsMetadata is used to indicate the supported functions and any possible constraints. In short, the service providers can specify the Service-Level-Agreement (SLA) in the FunctionsMetadata. The functions can be the CRUD and query options; and the constraints can be allowed operators for a function or the service-driven pagination. The FunctionsMetadata section should only contain the functions supported by the service.</p>
							<p>
								<center><img src="img/FunctionsMetadataElement.png" alt="FunctionsMetadata Element" align="middle"></center>
								<center><strong>Figure 3. </strong>FunctionsMetadata Element</center>
							</p>
							<p>In order to unify the Functions and provide examples, any Functions included in the capabilities document must be from the following table, in which the function names are explained in the API reference. On the other hand, for the Constraints, as service providers are allowed to create their own constraints, the following table still lists some defined ConstraintNames to unify the syntax.</p>
							<br/>
							<table class="table table-striped">
								<thead>
									<tr>
										<th>FunctionName</th>
										<th>ConstraintNames</th>
									</tr>
								</thead>
								<tr>
									<td>Create</td>
									<td>-</td>
								</tr>
								<tr>
									<td>Read</td>
									<td>Pagination</td>
								</tr>
								<tr>
									<td>Update</td>
									<td>-</td>
								</tr>
								<tr>
									<td>Delete</td>
									<td>-</td>
								</tr>
								<tr>
									<td>$orderby</td>
									<td>-</td>
								</tr>
								<tr>
									<td>$top</td>
									<td>-</td>
								</tr>
								<tr>
									<td>$skip</td>
									<td>-</td>
								</tr>
								<tr>
									<td>$filter</td>
									<td>Logical operators, Arithmetic operators, Grouping operators, String functions, <br/> Date functions, Math functions, Type functions, Geospatial functions</td>
								</tr>
								<tr>
									<td>$expand</td>
									<td>-</td>
								</tr>
								<tr>
									<td>$select</td>
									<td>-</td>
								</tr>
								<tr>
									<td>$count</td>
									<td>-</td>
								</tr>
								<tr>
									<td>BatchProcessing</td>
									<td>-</td>
								</tr>
							</table>
							<br/>
						</section>
						<section id="CustomOperations">
							<h3>4.2 CustomOperations</h3>
							<p>If the service provides any customized operations, the explanation of those operations should be included in the CustomOperations section. The CustomOperations section lists all the customized operations supported by the service and introduces the protocol of these operations. In the Operation element, the service needs to include the OperationName, HTTPMethod, ReturnType, and any acceptable Parameters.</p>
							<p>With the information in the Operation element, users can first compose a request URI by appending the OperationName to the service root URI. Then, if the HTTPMethod is HTTP GET, the ParameterNames and input values should be specified as key-value pairs in the query string after the question symbol "?". Otherwise, the ParameterNames and input values should be put in the message body of the request.</p>
							<p>
								<center><img src="img/OperationElement.png" alt="Operation Element" align="middle"></center>
								<center><strong>Figure 4. </strong>Operation Element</center>
							</p>
						</section>
					</section>
				</div>

				<div id="footer" class="clearfix">
					<div class="container">
						<hr>
						<div id="footer-wrapper">
							<div class="row-fluid">
								<div class="span12">
									<div class="span6"></div><!-- end of col-460 -->
									<div class="span6">
										<div class="social-icons"></div><!-- end of .social-icons -->
									</div><!-- end of col-460 fit -->
								</div>
								<div class="row-fluid">
									<div class="span5 copyright"> &copy; 2013 | OGC SensorThings API </div> <!-- end copyright -->
									<div class="span5 powered"></div><!-- end .powered -->
								</div>
							</div><!-- end of row -->
						</div><!-- end #footer-wrapper -->
					</div>
				</div><!-- end #footer -->
			</div>

			<script src="js/jquery.js"></script>
			<script src="js/jquery.smooth-scroll.min.js"></script>
			<script src="js/bootstrap.min.js"></script>
			<script src="js/bootswatch.js"></script>
		</body>
		</html>
